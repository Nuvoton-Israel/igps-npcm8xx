-----------------------------------------------------------------------------
Nuvoton Technology Corporation - Confidential
NPCM8XX (Arbel) Image generation and programming scripts Release Letter
Copyright (c) 2025 Nuvoton Technology Corporation. All Rights Reserved.
-----------------------------------------------------------------------------

NPCM850   Image generation and programming scripts Package Release Letter
Version:  04.03.10
Date:     Jan 2025

This package is released under the terms of the Source Code License Agreement
which is included in this package.

PACKAGE CONTENTS
----------------
This package contains Image generation and programming scripts. For further information please review the "docs" folder.

DESCRIPTION
-----------
This package contains the Nuvoton Image Generation and Programming Scripts (IGPS) for the NPCM8xx - Arbel.
This package is released in alpha quality.

REQUIREMENTS
------------
Hardware:
- A Nuvoton NPCM850\NPCM830 A1 or A2 Silicon version BMC device (Arbel).
- COM port cable. For DRB use a null modem cable. For EB use a USB cable (EB has an FTDI USB to COM device).

INSTALLATION PROCEDURE
----------------------
Install on Linux:
----------------
- Install Python 3.7
- Update PIP installer to latest:
    python.exe -m pip install --upgrade pip
- Install "hsslms" driver
    python.exe -m pip install hsslms
- Install OpenSSL 1.0.2 or above.
- Download bingo sources from 
         https://github.com/Nuvoton-Israel/bingo
  and follow the README to compile.
  Copy output executable file to IGPS_X.Y.Z/py_scripts/ImageGeneration/bingo

Usage for Linux users:
----------------------
- Run ImageGeneration/UpdateInputsBinaries_<chip_gen>_<board>.py to update image inputs of one of the available boards.
  <chip_gen>: {A1,Z1,A2}. 
  <board>: {"SVB", "EB"}
  This script needs to run only once. 
  After that user may update py_scrips/ImageGeneration/inputs/ folder with alternative versions to the default binaries.  
- Run GenerateAll.py to build combined images. 
- Run ProgramAll_Basic.py  or  ProgramAll_Secure.py.

For Windows users:
------------------
- Python 3.7 and above must be installed in C:\Python37\

Usage for Windows users:
----------------------
- Run ImageGeneration/UpdateInputsBinaries_<chip_gen>_<board>.bat to update image inputs of one of the available boards.
  <chip_gen>: {A1,Z1}. 
  <board>: {"SVB", "EB"}
  This script needs to run only once. 
  After that user may update py_scrips\ImageGeneration\inputs folder with alternative versions to the default binaries.  
- Run GenerateAll.py to build combined images.
  Users can select between three signing options:
  * openssl: run localy.
  * HSM: use any pkcs11 compliant HSM locally. 
    To use an HSM need to install at /py_scripts/ImageGeneration/
    - pkcs11-tool.exe
    - opensc.dll or any dll required for your spefic HSM HW.
  * Remote HSM: users who use a standalone remote HSM need to port the binaries to the HSM
    and then copy back the signatures back to IGPS.
    The signatures are then embedded to the binaries by IGSP.

  Users can also replace a single component in a pre-signed version using ReplaceComponent.bat

- For Dediprog:  Run ProgramAll_Secure_DediProg.bat
- For blue EVB:  Run ProgramAll_Secure_EVB.bat
- For Z1 devices only users can use FUP mode: ProgramAll_Basic_FUP.bat or ProgramAll_Secure_FUP.bat

Signed version of IGPS
------------------------
Nuvoton provides to customers locked devices.
To use those devices Nuvoton use its own private key to sign the images.
This means users can generate flash images for these devices.
Nuvoton provides a pre-signed IGPS version for locked devices.
Update* and Generate* are not possible, only programming.
If user wishes to update uboot\bl31\bootblock they may still do so by replaceing
the file in inputs folder and executing ReplaceComponent.bat

Key selection
-------------
Users can select keys to sign by editing this file:
https://github.com/Nuvoton-Israel/igps-npcm8xx/blob/main/py_scripts/ImageGeneration/key_setting_edit_me.py
The key index selected on this file will be used both for signing the images,
as well as directly written to the header as key_index and key_mask.
key_mask field will be automtically written with (1<<key_index) on each image header.


Signing options
----------------
IGPS supports three modes for signing

1. OpenSSL signatures:
   IGPS contains a list of default OpenSSL keys.
   If the user deletes a key, IGPS will re-generates a new random key using OpenSSL.
   Then the keys are used for signing the image.   

2. HSM signatures:
   IGPS can use pkcs11-tool to communicate with an external HSM element, like a NitroKey for example.
   In this case, the private key is not accessible directly. It is kept on the HSM.
   IGPS will use the HSM key to sign all images.
   
3. Remote HSM:
   This mode is used for HSM that is remote and inaccessible from IGPS.
   The user is in charge to send the binary files (8 files end with _part_to_sign.bin)
   for signing in to an HSM.
   Then user should load the signature files in DER format and public keys back to IGPS.
   IGPS will embed the signature and the keys provided by the user.    

For all modes of signing:
   Public keys are put in OTP file\KMT\SKMT depending on the key type.
   Signatures are embedded into the flash image.

   If other means of signing are required, please contact tali.perry@nuvoton.com
   Nuvoton recommends coordinating a bring-up test for customer HSM needs.

Image programming
-----------------
Connect a serial port (via COM port or USB to Serial) to Serial Interface 2
Set strap9 to active low and issue power-on reset
```
python ./Program%File%_%Security%_%Tool%.py
```

File: 
	All: All FWs except Linux: KMT, TFT, bootblock, BL31, OpTee, uboot. (most common use case).
	Bootblock: All FW up to bootblock (KMT, TFT, bootblock)
	1FF: One File Flash: all FW, including Linux. Require 32MB flash or higher.
Security: 
	Basic (none-secure device) - this mode is deprecated.
	Secure (locked device)
Tool: can be 
	EVB: support blue\green EVB board only. Require automation jumpers. TeraTerm must be disabled before use.
	DediProg: SVB has a header for external Flash Programmer DediProg.
	FUP: using internal UART of the Arbel. This feature is only supported in Z1. Deprecated.
	
ENHANCEMENTS
------------
IGPS 4.3.0                 - Jan 20th      2025
============
- TIP_FW 0.7.8 L0 0.6.7 L1
	https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.9_L0_0.6.8_L1
    * Bug fix: flash protection is enabled only if SystemControlFlags.tip_recovery_force is set.
	  both for PORST and for secondary reset.
- Add tip_gpio_wol flag in L1 XML.

HISTORY
-------
IGPS 4.2.9                 - Jan 16th      2025
============
- TIP_FW 0.7.8 L0 0.6.7 L1
	https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.8_L0_0.6.7_L1
    * Add command for DRBG from BMC to TIP.
    * Add to TIP_FW 'SystemControlFlags' flag to enable\disable features in TIP_FW: currently 3 bits: tip_recovery_force, tip_start_wd, tip_support_encryption
    * Disable flash protection.
    * Disable WOL.

- Add to TIP_FW L1 XML 'SystemControlFlags' flag to enable\disable features in TIP_FW
- Fixed default OTP LMS key0.
- Optimize signing time for LMS.
- Combo 1 : If LMS enabled all components are signed.
- Add supprot for Meta.

IGPS 4.2.8                 - Jan 2      2025
============
- A3 scripts
- LMS signing : instead of signing the images as is, first run digest sha512 on them (same as ECC), and then sign the *digested-sha512* image 
- TIP_FW 0.7.7 L0 0.6.6 L1 
	https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.7_L0_0.6.6_L1
	* LMS: verify digest of image, and not image directly.
	* GPIO WOL, included, not enabled.
	* Added ENABLE_RESET_COUNTER_CACHE feature to keep track of reset counter inside a scrachpad.

IGPS 4.2.7                 - Dec 10      2024
============
- bootblock 0.5.4
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.5.4
    * Add two new header fields:
      - pll0_override: can be used to set pll0, unless CPU != MC frequency. In this case override would fail.
      - i3c divider. once it's set PCI root complex will not function anymore. Recommendation for I3C users: set CPU = MC = 1000, pll0_override = 625, i3c_div = 13. For RC users: pll0_override = 0, i3c_div = 0xFF.
    * Add MC support for 300MHz.
    * Add CPU support for 325MHz, 625MHz.
- XML: add field for pll0_override and i3c_div. BootBlockAndHeader_A1_MS.xml will set I3C at 48MHz. 
  All other XMLs set to 100MHz needed for Root Complex.
- Put all LMS keys as place-holder, both in the fuse XML and in the folder.

IGPS 4.2.6                 - Nov 12      2024
============
- bootblock 0.5.3
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.5.3
    * MC: enforce requirement for sweep eye size must be greater then 13 steps. Otherwise training will fail.
    * Fix MC trim override options.
    * Add compilation flag for SORT. If it's set then fail boot if sweep fails (eye_size smaller then 12)
    * Reduce stack to leave TIP_FW some memory.
    * Define region for hardening table.
    * Clear stack.
    * Add an option stack profiler (compilation flag).

- Bootblock XML: enable by default IN DQS sweep (SWEEP_MAIN_FLOW = 0x17)
- Bootblock XML: MC_DLLS_TRIM_CLK description fix: bit 7 is inc\dec
- Bootblock XML: for SVB: reduce speed for MC to 800MHz.
- Bug fix: for HSM sign with ECC key, not LMS (id_otp_key1 was override).
- TIP_FW 0.7.6 L0 0.6.5 L1
     https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.6_L0_0.6.5_L1
    * Enable LMS.
    * LMS: use keys with W4, rather than W8.
    * Increase stack for bmc_task.
    * notifications: remove retry (legacy from Poleg).
    * L1 signed with key 0 only.
    * Bug fix: export function for combo 1 measurements.

- LMS scripts:
    * Create keys with W4, rather than W8.
    * "is_LMS_Keys_Generate"- changed its name to "isLMS", since it does more than just creating the keys, it is an enable flag for lms.
    * Updated OTP and KMT keys indices to be the same as ECC, and not the sequent. 

IGPS 4.2.4                 - Oct 15      2024
============
- LMS:
    * Add key_index_LMS & key_mask_lms to all XMLS (although they are not to be changed via XML)
    * Added LMS keys to arbel_fuse_map XML
    * OTP + SKMT keys: allow signing with any key (not fixed to key 2).
- 0.7.5 L0 0.6.4 L1
     https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.5_L0_0.6.4_L1
    * Support LMS.
    * Bug fix WDC=1 in recovery , also after reset.
    * Bug fix: after 3 WD1 resets (not 2) in under 10 minutes go to recovery.
    * Bug fix: L0 measurements and attestation hash recalc.

IGPS 04.02.03              - Oct 6th     2024
============
- 0.7.4 L0 0.6.3 L1
    * BMC_DIRECT: add command BMC_DIRECT_COMMAND_FL_READ_PARMAS. If flash not connected return error.
    * WD1 init before uboot: currently disabled till uboot upgrade.
    * WD1 init before bootblock run.
    * When BMC reset - reload same FW (and not active image).
    * Skip FIU1 CS1 in flash init. Not supported as a valid boot address in TIP_ROM.
    * Disable LMS support.
    * Restore flash protection.
    * Clear alias key from PCI mailbox and shared attastation area.
    * Dismiss verify fail in non-secure device.
    * Temp: disable WD1 till uboot is ready.
    * Bug fix: set CS1 drive strength to support 50MHz (merge issue).

- bootblock 0.5.2
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.5.2
    * Bug fix: Errata fix: 1.7 eSPI FATAL_ERROR: Set ESPI_ESPI_ENG to 0x40 (remove RMW to set bit 6).
    * Update CP init code (disabled by default, under SEARCH_CP_ON_FLASH_0 flag).
    * In case of traps and unexpected IRQs and FIQ: clear GIC registers.
    * In case of TRAP: notify TIP (TIP mode), or FSW (NO_TIP mode).
    * Update GIC driver and GIC table.

- Uboot:
    https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20240812
    * Clear all gpio events
    * Change env and uImage flash address
    * Add stopwdt command in default environment
- LMS: changed (only for A2) that all images will be signed (if wanted) with skmt_lms_key2.
- OTP_Programmer_Monitor : 1.1.3 that can print the LMS keys full info (fix is needed for LMS users only).
- L0 version increament to 1.

IGPS 04.02.02              - Sep 9th     2024
============
- 0.7.4 L0 0.6.3 L1
    * BMC_DIRECT: add command BMC_DIRECT_COMMAND_FL_READ_PARMAS. If flash not connected return error.
    * WD1 init before uboot: currently disabled till uboot upgrade.
    * WD1 init before bootblock run.
    * When BMC reset - reload same FW (and not active image).
    * Skip FIU1 CS1 in flash init. Not supported as a valid boot address in TIP_ROM.
    * Support LMS.
    * Restore flash protection.
    * Clear alias key from PCI mailbox and shared attastation area.
- Uboot:
    https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20240812
    * Clear all gpio events
    * Change env and uImage flash address
    * Add stopwdt command in default environment
- LMS: Add comments on LMS flags.
- Update installation section of IGPS documentation to install LMS tools.

IGPS 04.02.01              - Aug 8th     2024
============
- TIP_FW 0.7.4 L0 0.6.3 L1
    https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.4_L0_0.6.3_L1
      * BMC_DIRECT: add command BMC_DIRECT_COMMAND_FL_READ_PARMAS. If flash not connected return error.
      * WD1 init before uboot: currently disabled till uboot upgrade.
      * WD1 init before bootblock run.
      * When BMC reset - reload same FW (and not active image).
      * Skip FIU1 CS1 in flash init. Not supported as a valid boot address in TIP_ROM.
      * Support LMS.
      * Restore flash protection.

IGPS 04.02.00              - Aug 2nd     2024
============
- Added LMS generation + sign + verify
- Added LMS key in SKMT map file
- Added LMS enable flag to all relevant XML image headers

IGPS 04.01.05              - Aug 1st     2024
============
- TIP_FW 0.7.3 L0 0.6.2 L1:
    https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.3_L0_0.6.2_L1
	- BMC_DIRECT: return status and notification.
	- Add triple WD1 reset handling (going to recovery if 3 times under 10 minutes).
	- WD1 init before uboot: currently disabled till uboot upgrade.
	- WD1 init before bootblock run.
	- When BMC reset - reload same FW (and not active image).
	- Temp: disable flash protection.
	- Temp: disable WD1 till uboot is ready.

- bootblock 0.5.1
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.5.1
	- Improve boot speed. 1.8 sec 1GB no ECC, 2 sec with ECC.
	- NOTIP only: Reset slow periphrals on every reset (including UART, I2C etc.).
	- NOTIP only: don't reset PCIMBX, CP1 and BMCBUS.
	- Disable WDT in case of debug sweeps.
	- Remove some prints and normalize line endings in log. 

IGPS 04.01.03              - May 29th     2024
============
- TIP_FW 0.7.1 L0 0.6.0 L1:
    https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.1_L0_0.6.0_L1
      * Add flash protection on recovery image. Recovery region is now read-only.
- Enable hardening tables:
    * .\py_scripts\ImageGeneration\inputs\registers\registers_bootblock.csv
    * .\py_scripts\ImageGeneration\inputs\registers\registers_bl31.csv
- Uboot:
    https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20240411
    * Fix IPv6 PXE boot
- yocto build :
    Updated script for SA pre-signed combo0 support, just like TIP FW pre-signed combo0.
    Add comment support for settings.

IGPS 04.01.02              - May 26th     2024
============
- TIP_FW 0.7.0 L0 0.5.9 L1:
    https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.7.0_L0_0.5.9_L1
      * Do UMA reads instead of direct.

IGPS 04.01.01              - May 23th     2024
============
- bootblock 0.4.8
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.4.8
    * set cntfrq_el0 should be after calling serial_printf_init.

IGPS 04.01.00              - May 20th     2024
============
- skmt_map.xml: remove RSA key and add add ECC DER Key instead. This key should be manifest root key.
- TIP_FW 0.6.9 L0 0.5.8 L1:
	https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.6.9_L0_0.5.8_L1
     * Disable CFM.
     * Bug fix: if bootblock is at offset 2MB recovery image is not fully created. Fix the size of image measurement with the additional gap.
     * Manifest root key is the last key in SKMT. Format is ECC DER.
     * Hardening: limit up to 100 lines. check return status of hardening.
     * In case of assert write to debug log.
     * Bug fix: in BMC reset, if the reloading fails BMC will go to recovery flow.
- Remove MCR 180 from hardening register table.
- Apply patch one_igps in order to support yocto build with pre-signed image:
	https://github.com/minimada/openbmc/commit/c683d95987e8651118633aff11f31230f58b760c?diff=unified&w=0

IGPS 04.00.09              - May 7th     2024
============
- Update all bootblocks XML with none-ECC regions (up to 8). Also fix tabs and spaces on all files. 
- bootblock 0.4.7
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.4.7
    * Fix DDP\SDP type print.
    * Cleanup code for upstream.
    * Fix print of reset type for TIP reset case.
    * Bug fix: when using dlls_trim_clk override from header option INCR bit value is set to bit 7 instead of 6. Fixed to 6.
    * Add mode non-ECC ranges (8 total).
    * Fix build on Linux (change "Apps" folder to "apps").
    * Upgrade compiler and compile by default with dwarf-3 (allow debugging with Lauterbach, for GDB switch to -ggdb).
    * Compile optimization for speed.
    * Fix Coverity issues.
    * Cleanup makefile.
    * Add bit (over scratchpad bits): INTCR2.HOST_INITÂ  (bit 11). This bit indicates host is initialized by bootblock. After host is set bit is set to prevent re-init.
    * Bug fix: cntfrq_el0 was set back to 25000000 after warm boot, regardless of CPU frequency.

IGPS 04.00.08              - Mar 19th     2024
============
- bl31 
    https://github.com/Nuvoton-Israel/arm-trusted-firmware/releases/tag/v2.9.1
	* remove change clock frequency
- TIP_FW: 0.6.8 L0 0.5.7 L1
    * Optimize flash read. Include QUAD support code but currently disabled by default. 
    * Move TIP FW build version into a separate header file to avoid conflict with internal build versions.
    * Add missing header file include in the uart_if.h to avoid order dependency.
    * Support flash encryption (after code review).
    * Update TIP EID back to 0x0B.
    * Change version, delay for flush task and PRE_PRODUCTION.
    * Put all manifests at the end of flash.
    * Check stack overflow.
    * Support hardening.
    * Support BMC direct access.
    * Support bootblock at offset 512KB or 2MB.
    * Bug fix: touch WD during recovery delay.
    * Bug fix: ENC header field must be 0x03 to start encryption.
    * Support CFM. 
    * WD0RCRB.BMCBUS should be zero.
    * Bug fix in handling SW and WD reset (avoid TIP reset).
	
- Scripts: fix ReplaceComponent.bat.
- Update comments in bootblock XMLs.
- bootblock 0.4.6
     https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.4.6
     * MC: Increase ECE priority to match VCD priority. Set ECE priority to 2.
     * Fix errata: Errata fix: "1.7 eSPI FATAL_ERROR response"

IGPS 04.00.07              - Mar 4th     2024
============
- Bootblock 0.4.3
    https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.4.3
    * Bug fix: set cntfrq_el0 according to CPU frequancy. Previously it was hard-coded to 250000000.
- Uboot
  https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20240301
    * Use ARM timer as system tick
- Hardening: update CSV parsing, update chip xml and update the tables - but leave them disable for now.
  Users may comment out the tables and test.
- Relocate combo 1 offset to key_settings_edit_me.py. Default is 512KB.
- Fix all linux path.
- exit(1) in case of failure in GenerateAll.py

IGPS 04.00.06              - Feb 5th     2024
============
- Bootblock 0.4.1
	* Set PCI and GFX core clock to PLL1.
- Add bootblock XML for MS (with GPIO enabled).
- Remove Z1 from signing flows. Add MS signing.

IGPS 04.00.05              - Feb 1st     2024
============
- Bootblock  0.4.0
	- Bug fix: GMAC frequency always 125.
	- PCI always 125MHZ, RC always 100MHz.
	- If ECC enabled, force both CPU and MC to be the same frequency.
	- Add two optional GPIO set after mtest, declared in the IGPS header.
- XML: add new fields for GPIO for mtest.
- Move bootblock to the start of RAM2 (0xFFFB0000).

IGPS 04.00.04              - Jan 22th     2024
============
- TIP_FW: 0.6.7 L0 0.5.6 L1
  https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.6.7_L0_0.5.6_L1
   * Disable attastation.
   * Fix Macronix issue: if BMC change to wrong command set FIU_DRD_CFG RD_CMD back to a valid value.

IGPS 04.00.03              - Jan 22th     2024
============
- TIP_FW: 0.6.7 L0 0.5.6 L1
  https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.6.7_L0_0.5.6_L1
   * Move manifests to the end of the flash.
   * format manifests when needed.
   * Enhance logging during malloc\stack failure.
   * Increase BMC_task stack.
   * Limit SKMT to 10 keys (final number TBD). 
   * Limit KMT to 4 keys (final number is TBD).
   * Restore FIU_DRD_CFG (bug fix for Macronix flash).
- Total wipe: enhance logging.
- key_mask: instead of writing 1<<key_index to key_mask: IGPS sets the relevant bit without changing other bits in key_mask.

IGPS 04.00.01              - Jan 4th     2024
============
- uboot v2023.10-npcm8xx-20240103
   https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20240103
   * Fix PCI reset
   * Fix PSPI clock divider
   * Fix 4GB dram issue
   * Fix reset driver bug
- TIP_FW: 0.6.6 L0 0.5.5 L1
  https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.6.6_L0_0.5.5_L1
   * Fix issue in malloc
  * Bug fix: handle key store in the case of zero block.
  * Add scripts for total_wipe and flash read.
  * Remove Programing "Basic" mode. Always use the "Secure" version.

IGPS 04.00.00              - Jan 4th     2024
============
- Add support for external hardening tables.
- Add chip XML.
- Add registers CSV files in inputs.
- Add a folder output_binaries/tmp as staging area.
  kmt_map.bin and skmt_map.bin will be created in tmp instead of inputs.
- Add pointers to regisers tables in all FW headers.
- Add file IGPS_common.py where all GenerateAll.run subroutines are located. 
  This allows OpenBMC build to call these scripts directly.
- Split combo 0 and combo 1 sign so that OpenBMC build can call only combo1 buildand take a signed image from tip repo as-is.
- Fix ReplaceComponent.bat scripts, add register handleing and fix KMT and SKMT in-correct build.
- uboot v2023.10-npcm8xx-20240103
   https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20240103
   * Fix PCI reset
   * Fix PSPI clock divider
   * Fix 4GB dram issue
   * Fix reset driver bug
- TIP_FW: 0.6.6 L0 0.5.5 L1
  https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_0.6.6_L0_0.5.5_L1
  * Support Hardening.
  * Fix Coverity issues.
  * Support BMC direct access commands: flash erase, program, read and FW update. (note: FW udpate in direct mode has a known issue with encrypted images).
  * Direct mode: handle unknown interrupts - clean the correct notification.
  * Support OTP key revokation.
  * Init CDI to counter to allow devices in pre-production to boot to uboot.
  * PA-RoT: component attestation enablement This PR includes all the features required for PA-RoT (component attestation).
      1.  CFM workflow enablement
      2.  PCD workflow enablement
      3.  Configuration reset workflow enablement
      4.  Attestation requester bring-up
      5.  PCR/TCG log extension
      Those features are under the control of compilation flags:
               CMD_ENABLE_ISSUE_REQUEST
               CERBERUS_ENABLE_COMPONENT_ATTESTATION
               ATTESTATION_SUPPORT_SPDM
               ATTESTATION_SUPPORT_DEVICE_DISCOVERY
               CMD_ENABLE_RESET_CONFIG
     * When disabling those flags, TIP acts as AC-RoT.
     * Fix issue in malloc
  * Bug fix: handle key store in the case of zero block.
  * Add scripts for total_wipe and flash read.
  * Remove Programing "Basic" mode. Always use the "Secure" version.

IGPS 03.09.08              - Nov 29th     2023
============
- Write key mask automatically by scripts. 
- Bootblock version 0.3.9:
     * block PLL reseting in secondary boot. 
       PLLs are set only after PORST. (PLLs only, other dividers like FIU are set on any reset)
     * Change print of DRAM type.
     * Print all values in MHz (instead of Hz).
- XML mark the key_mask area as reserved.

IGPS 03.09.07              - Nov 6     2023
============
- Remove Google TIP_FW. SA FW replaces it.
- Bootblock version 0.3.8:
   * bootblock output file rename back to arbel_a35_bootblock.bin.
   * unused fuse data moved under ifdef
   * Add 3 fields to header (FIU_DRD_CFG for fiu 0, 1, 3). User can change these values in IGPS. bootblock does not check 
     value is legal.
   * Cleanup makefile.
- XML: add FIU_DRD_CFG0, 1, 3 to bootblock headers.

IGPS 03.09.06              - Nov 2     2023
============
- TIP_FW: 0.6.5 L0 0.5.4 L1
    * MC reset, if needed, performed synchronously from TIP side while BMC is in reset.
- Bootblock version 0.3.7
    * Modify the Makefile to ensure compatibility with Linux compilation and incorporate a build.sh script.
    * In NO_TIP mode: if training fails perform FSW to retry.
    * In TIP mode: need to use TIP_FW 0.6.5 and up so that TIP will reset MC before bootblock to ensure no BMC access 
    * during reset MC.
    * Update timer driver with registers and basic functionality.
    * Update FIU divider on every reset, according to the header.
    * Set RDLEN to 0 on AHB6 and AHB13.
- bl31: https://github.com/Nuvoton-Israel/arm-trusted-firmware/releases/tag/v2.9.0
    * Fix GFX frame buffer memory corruption during secondary boot.
- Scripts: create image_no_tip_SA.bin for A1 mimic no_tip mode (concatenated file image_no_tip + SA FW).

IGPS 03.09.05              - Oct 23     2023
============
- OPTEE: 0.0.4 : https://github.com/Nuvoton-Israel/optee_os/releases/tag/npcm_4_0_0
  * Reading HUK from UUID stored in two scratchpad registers
- Add UpdateInputBinaries for A2. Files are the same as A1.
- u-boot: v2023.10-npcm8xx-20231023: 
    https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2023.10-npcm8xx-20231023
   first release of npcm-v2023.10
   - Fix memory corruption in GFX frame buffer.
- TIP_FW 0.6.4 L0 0.5.3 L1
    * Fix DRAM window handling bug, oinorder to allow loading images to any address in DRAM.
    * Fix access for Z1 devices to NCL lib.
    * Move tip log to end of recovery flash.
    * Support flash encryption. Need to create per die key and enable in each image header. 
    * Fix TAG aliign issue.
    * Support A35 bootblock reset case.
    * Switch to lightweight X.509 and base64 API to remove mbedTLS from L0 completely
    * Extend key scan option from TIP_ROM to all images
    * Enhance NCL hash porting with SW SHA1 support
    * TIP_SCR0 fix configuration during BMC reset.
    * Update OEM table
    * Customize TIP DICE layer 0 to generate ECC-384 device ID key pair matching ROM 
    * Generate counter DICE is missing. Fuse DME and DICE request.
- Bootblock 0.3.6:
    * Fix SPIX settings. SPIX should be below 33MHz. It was calculated according to SPI0 and not SPIX, and then set to SPIX.
    * Read the DIE information from OTP and place it in SCRACHPAD 72 and 73, for the OPTEE to read it 
    * Bug fix: return pass status to TIP in secondary reset if training is skipped.
 
IGPS 03.09.04              - Sep 28th 2023
============
- SA TIP_FW 0.2.1 L0 
   * Added support to a stand alone (SA) TIP FW which starts BMC execution. Used to mimic A2 NO_TIP mode an A1 chip. 
     This option should only be used for external RoT users.
- Zero KMT field fwTableOffset.
- Monitor 1.1.0
   * added self_destruction and reset option
- XML: 
   * Move all XMLs to reference.
   * Added random IV to header.
   * Added SVN version to each XML file.
   * Added key_mask option to all images.
   Note: for flash encryption, SVN and key_mask need to udpate TIP_FW from azure.
- Cleanup Update* scripts.
- Add batch file to NO_TIP modes.

IGPS 03.09.03              - Aug 10th 2023
============
- uboot https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2021.04-npcm8xx-20230809
       * Fix incorrect ram size of 4GB dram with ECC enabled
- TIP_FW 0.6.2 L0 0.5.1 L1 
	https://github.com/Nuvoton-Israel/npcm8xx-tip-fw/releases/tag/TIP_FW_L0_0.6.2_L1_0.5.1
       * Fix trap issue in export found on DC_SCM only.
       * Optimize memory usage.
       * RSA and RNG code cleanup.
- Update scripts: fix typos.
- Update scripts: copy all keys always. to replace a key please remove it from both: 
	IGPS_..\py_scripts\ImageGeneration\keys\
	IGPS_..\py_scripts\ImageGeneration\inputs\key_input
	
IGPS 03.09.02              - Jul 17th 2023
============
- bootblock 0.3.5
		https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.3.5
         * bug fix: support NO_TIP mode + updated memory map. all images are loaded to DRAM. (from version bootblock 0.3.4)
         * Call CLK_ConfigureFIUClock only in PORST (update SPI dividers from header).
         * re-enable HOST_IF field in header. Supported values:
			0xFF: do nothing
			0x00: LPC. 
			0x01: eSPI
			0x02: GPIOs TRIS.
			0x03: release host wait, disable eSPI
                configuration is done only in PORST.
        * add baud rate field to header:
          Supported values: 9600,14400,19200,38400,57600,115200,230400,380400,460800,921600
       		default is 115200.

- update README with signing options.
- Support pkcs11-tool on Linux.
- Bingo 0.0.6.
	https://github.com/Nuvoton-Israel/bingo/releases/tag/Bingo_0.0.6
- update Monitor 1.0.9 (contact Nuvoton for internal users only release).
- Optee npcm845x_3.22.0-rc1-7:
	https://github.com/Nuvoton-Israel/optee_os/releases/tag/3.22.0-rc1-7
	- change load address of OPTEE-OS from 0x36000000 to 0x02100000
	- added HUK reading from TIP Mailbox DME PCR0
- TIP_FW 0.6.1 L0 0.5.0 L1:
    * Udpate RCR regs whenever PORST bit is set in TIP_SCR1 (ignore all other bits).
    * Export PCI parameters on any reset. re order the parameter locations.
    * Fix typos un uptime and similar.
    * SWRST4 is TIP_RESET.
-uboot https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2021.04-npcm8xx-20230724
    * u-boot.bin is built with extra config to skip UART initialization in u-boot
	CONFIG_SYS_SKIP_UART_INIT
- Update bootblock XML: 
   * Add host IF field. eSPI in all flavours except Google XML.
   * Add BAUD rate field. default is 115200.

	
IGPS 03.09.01              - J un 26th 2023
============
- TIP FW 0.6.0 L0 0.4.9 L1
         * New memory map. TIP_VIRTUAL_FLASH_BASE_ADDR moved to 0x1000000.
         * Fix NVIC_TrapHandlerCommon: uart reconfig should be after sampling core registers.
         * Fix DRAM window handling bug, in order to allow loading images to any address in DRAM.
         * In recovery mode: add an option to go to halt (print "N" at the start).
         * Merge PR #24: "Add the support for enforcing recovery image to match active at boot time"
         * Add support for ECC 384 + 521 
         * Add the support of ecc HW with tip_ecc_hw_ncl.c instead of old implementation using mbedtls code
         * Wake all 4 cores when jump to DRAM (feature was limited to RAM2 only).
         * Bug fix SFDP dummy byte.

- Remove no_tip file from ReplaceComponent.bat	
- uboot: 
		https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2021.04-npcm8xx-20230626

		-CONFIG_SYS_TEXT_BASE=0x8000
		+CONFIG_SYS_TEXT_BASE=0x06208000
		+CONFIG_TEE=y
		+CONFIG_OPTEE=y
		+CONFIG_TPM=y
		+CONFIG_TPM_V2=y
		+CONFIG_TPM2_FTPM_TEE=y
		+CONFIG_CMD_TPM=y
		+CONFIG_TPM2_MB=y
		+CONFIG_SUPPORT_EMMC_RPMB=y

- bl31: Release V2.8.2
		https://github.com/Nuvoton-Israel/arm-trusted-firmware/releases/tag/v2.8.2
	    * change load address of BL31 to 0x02000000
	    * change load address of OPTEE-OS to 0x02100000
	    * change load address of BL33  to 0x06208000

- optee: Release npcm845x_3.18.0_v1.0-697
		https://github.com/Nuvoton-Israel/optee_os/releases/tag/npcm845x_3.18.0_v1.0-697
        * change load address of OPTEE-OS from to 0x02100000

- bootblock 0.3.3
		https://github.com/Nuvoton-Israel/npcm8xx-bootblock/releases/tag/A35_BootBlock_0.3.3
        * Add header field GMMAP at offset 0x152 which is copied to INTCR4.GMMAP0 and 1.

- XML: add bootblock field to select GMMAP. Default is zero. If it's FF value is set as before by bootblock, according to DRAM size.
- XML: bootblock sets MC to 1050MHz by default.
- Bug fix in Open_all_ports batch. 

IGPS 03.08.09              - May 14th 2023
============
- Bootblock 0.3.1:
	- Bug fix FIU settings: when selecting FIU divider in header make sure the frequancy will 
	  remain lower during runtime. previously bootblock always sets to 50MHz (default) then 
	  change according to header. Now setting of 50MHz is only done if header field is zero or 0xFF.
	- Bug fix: CLK call CLK_Verify_and_update_dividers once (instead of twice).
- uboot v2021.04-npcm8xx-20230511 
	u-boot.bin is built with extra configs
		CONFIG_CMD_EXT4=y
		CONFIG_CMD_FS_GENERIC=y
		CONFIG_CMD_GPT=y
		CONFIG_CMD_PART=y

		CONFIG_TEE=y
		CONFIG_OPTEE=y
		CONFIG_TPM=y
		CONFIG_TPM_V2=y
		CONFIG_TPM2_FTPM_TEE=y
		CONFIG_CMD_TPM=y
		CONFIG_TPM2_MB=y
		#CONFIG_TCG2_LOG_BASE_ADDRESS=0x35F00000
		CONFIG_SUPPORT_EMMC_RPMB=y

- TIP_FW 0.5.9 L0 0.4.8 L1
	- Add the support for updating TIP FW Combo 0 and Combo 1 together.
	  When the public key that is used to verify BMC combo is modified, SKMT and BMC Combo must be update together.
	  Previous FW update flow doesn't fit. This patch adds a third option (combo 2) that updates Combo 0 and Combo 1 together.
	- Port hardware crypto library NCL to TIP to replace mbedtls (except X-509).
	- Enlarge configTOTAL_HEAP_SIZE to 0xb000 to accommodate larger MCTP stack size to support "challenge"
	  command when NCL is ported.
	- NCL uses NCL_FIPS_MODE instead of NON_FIPS_MODE.
	- Added Z1: PKA_IntHandler, therefore returned to run the RSA selftest that was excluded.
	- Added code for A2.
	- flash: support flash size mix.
	- restore:
		- force main and recovery flashes to be the same.
		- Add timestamp compare to combo.

IGPS 03.08.08              - May 3rd 2023
============
- Modified update & Generate scripts to support the new BootBlock no TIP files, XML , etc.
- BootBlock 0.3.0
	* Added support of no TIP mode
	* Set all DRAM values to 0x14000000 ( while(1) ).
	* Tested with all DRAMs size (1,2,4GB) and types (SDP, DDP), with and without ECC.
	Fix FIU1 frequancy to 50MHz.
- No TIP mode is only for A2 users.
- IGPS still supports TIP mode.

IGPS 03.08.07              - April 9th 2023
============
- bug fix: when run Udpate*.bat also update the key_input folder to default openssl keys.
- Support A2.
- TIP_FW: 0.5.7 L0 0.4.6 L1 
	* Bug fix for bmc reset task not getting active flash handler properly.
	* TIP flash API enhancement.
	* Bug fix for bmc reset task stack overflow (used by "reset" from Uboot to reload BMC images.)
	* Enable stack overflow detection logic under macro (_TIP_DEBUG_BUILD_).
	* Bug fix for configLIBRARY_LOWEST_INTERRUPT_PRIORITY in FreeRTOSConfig.h.
	* add delay before recovery copy flash.
	* force main and recovery flashes to be the same.
	* Add timestamp compare to combo.
	* tip_flash: fix prints
	* Fix uptime print.
	* Support A2.
	* Fix INTRC2 settings.
	* Enable QUAD mode. 
- Bootblock 0.2.9 
    * Bug fix: fixed a bug in testing of MC is already initialized.
    * Bug fix: fixed a bug in setting the security enable bit.
    * MC: Added support to 2x1G DDR.
    * Clear MC interrupts in warm boot too.
    * Fix FIU1 clk divider range. Can be up to 256.
    * Support A2.
    * Support 4GB. max_ddr_size in header should be 0xFFFFFFFF.
    * Use SCRPAD_10 to indicate bootblock state: 
       * 0xAAAAAAAA - working.
       * 0x00000001 - training pass
       * 0x00000002 - training fail
    * SCRPAD2 is the size, SCRPAD3 is the size of 1MB. SCRPAD2 is always limited to 2GB.
    * MC: measure DRAM size before enabling ECC.
    *   * limitation: can't detect size, need to set max_dram_size in the header according to device, otherwise there 
          is an exception after ECC is enabled.
    * MC BIST is up to 2GB. rest is with for loop.
- uboot 2021.04.10.02
    * Support 4GB.
- Add Open_All_Ports script. 

IGPS 03.08.06              - Mar 2nd 2023
==============
- removed uage of Arbel_programmer_monitor_printonly.bin, changed to Arbel_programmer_monitor_internaluser.bin
- removed a wrong declaration of otp_prog_FW_bin that overwritten the case of a different Arbel_programmer_monitor_XXX.bin 
- updated MonitorAndHeader.xml with 3 flags: Interactive mode , Programming options:, Dump_otp. details inside the file.
- TIP_FW 0.5.6 L0 0.4.5 L1
    * Avoid forcing sig check on BMC images.
- Add support for RemoteHSM   

IGPS 03.08.05              - Feb 7th 2023
==============
- bl31: npcm845x_2.6.0_1.5-1-g69e6d531f.
- TIP_FW 0.5.5 L0 0.4.4 L1
    * tip_mbx: reconfig the uart after BMC is up (singleton).
    * recovery: warn the user and give them curtesy 10 seconds.
    * bug fix: flash: wrong init fiu and cs in xfer.
    * bug fix: flash: support single flash mode. tested on 4MB and 16MB.

IGPS 03.08.04              - Jan 16th 2023
==============
- TIP_FW 0.5.4 L0 0.4.3 L1
    * bmc_reset: if BMC init fails reset the TIP.
    * reinitialized the SPI in case Linux changed settings of flash.
    * update reset indication: bug fix handle only in PORST.
    * print reset type in bmc reset too. 
    * in secondary reset clear RESSR and TIP_SCR1 and update INTCR2 to show only latest reset.
- TIP FW 0.5.4 L0 0.4.3 L1 GOOGLE5, derived from to the version mentioned above.
		
IGPS 03.08.03              - Jan 9th 2023
==============
- TIP_FW 0.5.3 L0 0.4.2 L1
    * FreeRTOS: in case of assert: print useful info.
    * NVIC_BMC_reset: clear NVIC int before reloading BMC.
    * in BMC reset and spurious interrupt reset: read the int number from the active and not the pending.
    * NVIC_IntHandlerCommon: bug fix: clear correct number.
    * Big fix: enable all traps in hardware_app_init. 
    * Add task bmc_task to handle BMC reset reload.
    * Increase heap_size to 0xA000.
    * HOSTPER: set to 1 till KCS bug is fixed.
	* Flash: check if FIU1 and FIU 0\CS1 are disabled by OTP bit.
	* Flash: bug fix: do not enable FIU1 CS2\3.
	* Flash: Allow using a 4MB flash for image.
	* Update FreeRTOS to none-MPU version.
	* Spurious interrupt handling: in case of spurious interrupt print correct int number + NVIC state, and then clear it.
	* OTP version: use two bits for each version number.
	* Copy DBGRST too to INTCR2.
	* Debug log: bug fix: data corruption in case of a 16MB flash. Replace the code so that 
		 Debug log is 64KB (one flash block). 
		 its location is 
		  - split flash for active recovery:  64KB before recovery image.
		  - two flash mode: last block in active flash.
	* UUID: add full data read (wafer, X\Y, year, work week). Note: debug chips do not contain this info.


IGPS 03.08.02              - Dec 29th 2022
==============
- TIP FW 0.5.1 L0 0.4.0 L1
    * Set RCR regs only in PORST.
    * Change RCR values for TIP reset.
    * NVIC: print more data on spurious interrupts.
    * SPIX - set FIU_FIX to SINGLES. Other FIUs remain in INCREASING mode as before.
- TIP FW 0.5.1 L0 0.4.0 L1 GOOGLE4, derived from to the version mentioned above.

IGPS 03.08.01              - Dec 26th 2022
==============
- Preparation for yocto signing:
  * All TIP images are now signed using HSM.
  * All BMC images are signed with openssl key : SKMT key 1.
  * SKMT key 1 is added to IGPS including private key to allow users to sign.
  * TIP_FW still allows loading unsigned images to BMC. 
    Next release this bypass will be blocked so all images must be signed. 
  * Old mode of signing all images with openssl is still supported as before.
  	
IGPS 03.08.00              - Dec 15th 2022
==============
- TIP_FW: 0.5.0 L0 0.3.9 L1 
	- Code cleanup for production.
	- bug fix key selection during recovery.
	- Add DME+RIOT data export to PCI MBOX.
	- align BMC and TIP that both will use PLL2 and not CLKREF.
	- Bug fix: don't save previous INTCR2 for reset indication.
	- Bug fix: update flow using wrong KMT. 
- TIP_FW: 0.5.0 L0 0.3.9 L1 GOOGLE3 
    - aligned to the above release.
	- split SFDP
	- enable flag CERBERUS_SECURE_BOOT_ONLY
- uboot https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2021.04-npcm8xx-20221215
- OpTee: https://github.com/Nuvoton-Israel/optee_os/releases/tag/npcm845x_3.18.0_v1.0
- linux offset 4MB.
- Update scripts to sign in yocto build (signatures only).


IGPS 03.07.09              - Nov 22th 2022
==============
- Bootblock 0.2.8: bug fix recalib issue. Enable eSPI.
- Optee 3.1.6_v1.3: print Optee version number.
- Google: merged google branch to mainstream. To use: call UpdateInputBinaries_Google.bat
- Monitor: add monitor program files. Fix monitor script.

IGPS 03.07.08              - Nov 7 2022
==============
- Bootblock revert to version 0.2.6 (fix only works on A1, fail to boot on z1)
- TIP_FW: 0.4.8 L0 0.3.7 L1
	- Bug fix, call bmc_continue in case of warm reset.
	- Set all RCR regs so that host is not reset during warm boot. 
	  New settings: 
	  WD0RCR = 0300ef9d
	  WD0RCRB = fffffc37
	  (same settings for all warm resets)
	  
	  
IGPS 03.07.07              - Nov 7 2022
==============
- Bootblock version 0.2.7:
     * Bug fix: disable RECALIB in DDR.

IGPS 03.07.06_GOOGLE2              - Nov 2 2022
==============
- 0.4.5_GOOGLE2 L0 0.3.4_GOOGLE2 L1  GOOGLE ONLY
     * Add flag CERBERUS_SECURE_BOOT_ONLY. No update, recovery and logging. 

IGPS 03.07.05              - Oct 27 2022
==============
- Bootblock version 0.2.6:
     * Bug fix: If DRAM is 2GB and max DRAM size in header is smaller, 
	   GMMAP should be set according to header, not according to the physical device. 
- Bootblock XML: set max size of DRAM as 1GB by default. To enable 2GB need to manually change this value.

IGPS 03.07.04              - Oct 20 2022
==============
- Bootblock version 0.2.4:
   * MC: Support 2GB DRAM
   * CLK: always set PLLs by bootblock (regardless of ROM init settings)
   * SPI-X: upper limit of 33MHz. 
- Bootblock XML: set max size of DRAM as 2GB. Bootblock will auto-detect the size if it's smaller.

IGPS 03.07.03              - Oct 12 2022
==============
- uboot 2021.04-npcm8xx-20221011
- 0.4.6 L0 0.3.5 L1
     - Support all board types (flash connections detected at runtime.)
- Bootblock XML: return FIU to 50MHz in bootblock header.

IGPS 03.07.02              - Oct 12 2022
==============
- uboot 2021.04-npcm8xx-20221011
- 0.4.5 L0 0.3.4 L1  GOOGLE ONLY
     - Google only version: Split SFDP to 16bytes reads.
- Bootblock XML: Reduce FIU to 20MHz in bootblock header.

IGPS 03.07.01              - Oct 3rd 2022
==============
- TIP_FW: 0.4.4 L0 0.3.3 L1
   * Fix for openBMC reboot starting from recovery flash

IGPS 03.07.00              - Sep 29th 2022
==============
- TIP_FW: 0.3.2 L1
    * Demo for OCP:
    - Fix for a trap caused by combo1 update during manifest revocation check.
    - Tune parameter "configTICK_RATE_HZ" in FreeRTOSConfig.h to boost cerberus cmd execution time
    - Use taskYield(platform_msleep(0)) in mbox receive packet path
    - Remove "tip_platform_config.h". "platform_config.h" is the right place to do MCTP and Crypto customization.
    - Debug prints cleanup

IGPS 03.06.09              - Sep 22th 2022
==============
- TIP_FW: 0.3.0 L1
    * Demo for OCP: match for DC-SCM flash layout.
    * allow BMC side image replacement.
	
IGPS 03.06.08              - Sep 22th 2022
==============
- TIP_FW: 0.3.0 L1
    * Demo for OCP: match for DC-SCM flash layout.

IGPS 03.06.07              - Sep 21th 2022
==============
- TIP_FW: 0.4.4 L0 0.2.9 L1
    * Demo for OCP
- OpTee version 3.16 (revert from 3.18): https://github.com/Nuvoton-Israel/optee_os/releases/tag/npcm845x_3.16.0_1.1

IGPS 03.06.06              - Sep 20th 2022
==============
- TIP_FW: 0.4.3 L0 0.2.8 L1 
    * Bug fix: dummy cycles setting reused for next direct read. Split values handling.
    * run BL31 only after update flow is complete.
    * use get_uuid in tip_boot.
    * Disable interrupts while booting BMC. Required to fix issue with NVIC_BMC_reset and debugger re-load.
    * serial_print_init: always configure uart clocks.
    * clear TIP_CTL_STS_DBGRST_STS on init.
- B1: add key_mask field to KMT (backward compatible).
- B1: Add key 8 (backward compatible).
- uboot: https://github.com/Nuvoton-Israel/u-boot/releases/tag/v2021.04-npcm8xx-20220907
- OpTee version 3.18: https://github.com/Nuvoton-Israel/optee_os/releases/tag/npcm845x_3.18.0_v1.0
- Bootblock version 0.2.3:
   * MC: set bit 8 for DLL reset after writing to MRS registers.
   * Flash: remove scan for uboot.



IGPS 03.06.05              - Sep 4th 2022
==============
- 0.4.2 L0 0.2.7 L1 
     - Add CLK_Delay_Sec.
     - tip_cmd_device: read UUID from DIE\LOCATION\WAFER field in OTP.
     - read OID from PDID register.
     - Add timestamp to header + check during combo parse for update only. 
- Add timestamps to all images in offset 0xBC.
- uboot: add pointers to all images on flash.
- Bug fix: too much gap between images. Now the gap is up to 0x1000, except
  bootblock which is always aligned to 512KB.


IGPS 03.06.04              - Aug 14 2022
==============
- TIP_FW 0.4.1 L0 0.2.6 L1 
   * flash driver bug fixes.
   * Core reset bug fix: CORSTC: set to 1s, except MC bit
   * Do not continue if BMC fail to boot.
   * RESSR: copy values from TIP_SCR1 to INTCR2. Print last reset type.
   * OEM: read 2 bytes from OTP (was 1).
- Bootblock is aligned to 512KB.

IGPS 03.06.03              - Jul 28 2022
==============
- Add SVN version number on all headers.
- 0.4.0 L0 0.2.5 L1:
    - Add NVIC handler for BMC reset. (reload BMC only)
    - A35_INIT earlier.
    - Add version check, compare each version number against otp version number.
    - Point image_header.data to the version number on the header.
    - Note: OTP version increment is not yet supported. 


IGPS 03.06.02              - Jul 24 2022
==============
- Restore Z1 XMLs.
- Bug fix ReplaceComponent.bat
- Add fiu clk dividers fields to Bootblock header xml.
- TIP FW: 0.3.9 L0 0.2.4 L1:
	- virtual flash bug fix: use memcy instead of tip_memcpy.
	- shared attestation hash is 512.
	- tip_mbx bug fixes.
	- tip_combo: return early if failed to find image.
	- init WD0RCR, 2, 3 before BMC starts.
	- check load and verify return status. if verify tip images fail in secure boot, restart.

- Bootblock: 0.2.2
	- Fix GMMAP value for 2GB and 512MB.
	- Add 3 FIU dividers to the header (require IGPS 3.6.2 and above)
	- Bug fix: add support for ODT termination of zero (termination disabled).
	- Print pass\fail criteria for sweeps. Need to enable debug prints to use.


IGPS 03.06.01              - Jul 18 2022
==============
- First open source release.
- Python 3.7
- Tested on Linux (need to compile bingo locally)
- TIP FW: 0.3.8 L0 0.2.3 L1:
  * Support update commands.

IGPS 03.05.02              - Jun 22 2022
==============
- Bug fix ReplaceComponent.bat using command line parameters.
- Bootblock: Add SWEEP_MAIN_FLOW field to header , bit-wise select sweeps.
- Bootblock 0.2.1
- Generate new combo: BootBlock_BL31_Tee_uboot, remove unused combos.
- Remove CP image from 1FF option.
- Bug fix replace component for bootblock (wrong key being used).
- TIP_FW: 0.2.1 L1, 0.3.6 L0.


IGPS 03.05.01              - Jun 12 2022
==============
- Generate and add RSA key to SKMT.
- TIP FW: 0.3.4 L0 0.1.9 L1:
   * Get RSA key from SKMT, which is signing the manifests.
   * Use fixed key from header for ECC verify, instead of key scan.
   * Keep SHA512 inside tip_firmware_image. Later can copy if to attestation shared object (if it needs sha512)


IGPS 03.05.00              - Jun 2nd 2022
==============
- Add SKMT.
- TIP FW: 0.3.3 L0 ,0.1.8 L1
	- Add SKMT. works with IGPS 3.5.0 and above only.
	- tip_firmware_image_verify_func: use SKMT\KMT according to image type. Optimize to do sha only once per image.
	- add TIP_copy_hash_from_tip_log 
- Bug fix to support Linux in HSM mode.
- Move all keys to sub directory key_input. Add 5 SKMT keys
- Replace*.bat allow selecting option in command line.


IGPS 03.04.09              - May 25th 2022
==============
- Bootblock version 0.2.0
- Add bootblock field: MC_CONFIG.print_enable
- TIP_FW 0.3.2 L0 0.1.7 L1:
	- L1: increase heap size to 40KB.
	- Disable WD0 (enabled by TIP_ROM).
	- replace secure_heap with heap_4.
- BL31 1.5:
	Set SW reset control register to support reset all modules when enabling SW1 reset.


IGPS 03.04.08              - May 19th 2022
==============
- TIP FW L0: version 0.3.1
- TIP_FW L1: version 0.1.6. 
- Reduce KMT to 2 keys.

IGPS 03.04.07              - May 12th 2022
==============
- TIP FW L0: version 0.2.9
- TIP_FW L1: version 0.1.5. includes bug fix for trap on freertos.
  Change load address to 0x20000. Impacts TipFwAndHeader_L1.xml. This is the final location for L1.
  
IGPS 03.04.06               - May 3rd 2022
==============
- TIP FW L0: version 0.2.8
  Support Cerberus PCR manifest, w\o RSA key
- TIP_FW L1: version 0.1.3.
  Change load address to 0x32000. Impacts TipFwAndHeader_L1.xml.
  
IGPS 03.04.05               - Apr 4th 2022    
==============
- Fix OTP programmer scripts.
- Check binary is not missing before use.
- TIP_FW L0 0.2.2, L1 0.0.7
	- Move KMT to be 4KB aligned.
	- Boot from secondary flash: TIP_FW will always boot from same flash TIP_ROM booted L0 from. call tip_flash_set_active_flash to select te used flash. load_main_application: not related to recovery_boot anymore.
	  loading will always be on same flash used for boot.
	- tip_flash: fix issues with transition to small\large flash.
	- If L0 fails to load: do SW reset to allow loading recovery image instead. L1 has same code under PRODUCTION_CODE (for now it's disabled for easy debug of L1).
	- Bug fix: SWRSTC2, SWRSTC3 were not set properly (should be same as SWRSTC1).
- bootblock: 0.1.9:
	- Remove GIC init. moved to BL31.
	- Add trim_2 initial offset to header. For EVB it will be [0,0]. For SVB and A1 it will be [10, 0].
	- add mc_sweep_debug in header. bitwise field to enable test sweep. 
	- Secondary reset: fix issue: no re-training of DDR in secondary reset.
- tee : 3.16_npcm845x_v1.1.  Change load address.
- bl31: bl31_ver=2.6_npcm845x_1.4

IGPS 03.04.03               - Mar 10th 2022    
==============
- Split A1\Z1 SVB\EVB files for bootblock
- Rename Kmt_TipFwL0_TipFwL1_BootBlock_BL31_Tee_uboot (was Kmt_TipFw_BootBlock_BL31_Tee_uboot)
- Disable CRC check on header.
- Change key signing file. Only one file is used: 
  IGPS_3.4.3_Release\py_scripts\ImageGeneration\key_setting_edit_me.py
  When changing key index no need to change KeyIndex inside the xml.
  IGPS will write it internally to the binaries.
- TIP_FW: 0.0.6 L1.
- TIP_FW: 0.2.1 L0 : authenticate all images. 
  Note: for now a failed image still boots.
  In a few versions this will be disabled.
- bl31 ver 2.6_npcm845x_1.2: load with header. Image starts at 0xFFFB1000 (header before).
- Fix FUP issue with fixed COM port.
- Pad all files to 32 bytes (inside inputs folder).
- Comment out linux image merge. Takes a long time and lack of usage by the public.
  To enable: uncomment py_scripts\ImageGeneration\GenerateImages.py lines 208, 209
- FUP mode: to skip scan need to call:
     ProgramAll_Basic_FUP.bat  COM20
   (or other COM number)
   
IGPS 03.04.02               - Feb 24th 2022    
==============
- uboot: 2021.04-npcm8mnx-20220223: support mtest.
- Rename UpdateInputsBinaries_Arbel_PD.bat  to UpdateInputsBinaries_A1.bat.

IGPS 03.04.01               - Feb 23th 2022    
==============
- TIP_FW: 0.0.5 L1: support 4MB flashes and mix of flash types on same FIU.
- TIP_FW: 0.2.0 L0.
- uboot: 2021.04-npcm8mnx-20220223

IGPS 03.04.00               - Feb 22th 2022    
==============
- TIP_FW: 0.0.4 L1.
- TIP_FW: 0.1.9 L0.
- tee and bl31 are taken from Github.
- tee ver 3.16_npcm845x_v1
- bl31 ver 2.6_npcm845x_1.1
- Bootblock 0.1.8
- Single uboot image: u-boot-2021.04-npcm8xx-20220214
- Reorder bl31 and bootblock in RAM2.
- Remove CRC32_Remove: secure image will hold both CRC and signature,
   so that same bins will work both on basic and secure.
- Linux 5.10.67.01.03 with support for PSPI.
- Ready for A1 bringup.


IGPS 03.03.08               - Jan 20th 2022    
==============
- Fix all xml title line.
- Bug fix file name in FUP mode.
- Split TIP_FW to L0 and L1 (both xml, FWs and scripts.)
- TIP FW L0 0.1.7.
- ITP_FW L1 0.0.2.
- Add RunPartial parameter to GenerateAll*.bat and ReplaceComponent*.bat. 
  This allows replacing component from command line. 
- Fix all xml files so that all xmls are standard (required for external parsers).
  License comes after first header line.
- uboot start address is now 0x7E00 including the header. 
   The FW still starts at 0x8000, but the header is also copied to the DRAM.
 
IGPS 03.03.05               - Dec 14th 2021    
==============
- Add uboot from GitHub (https://github.com/Nuvoton-Israel/u-boot/commit/e9a8402bd965b15ad4787b0c29de972c34cc6c15)
- Older uboot's are kept under versions. To use: copy to inputs and run ReplaceComponent.bat.
- Bootblock version 0.1.7
- Set MC freq to 1000MHz. Needed for ECC support.

IGPS 03.03.04               - Dec 14th 2021    
==============
- Bootblock version 0.1.6
- TIP_FW version 0.1.5
- Add ProgramAll_DediProg.bat. 
  By default this will program Basic version.
  To change, edit line 3
- Add ProgramAll_EVB (works on blue EVB only).
  By default this will program Basic version.
  To change, edit line 12 (FILE_TO_PROGRAM)
- Add BL31.bin and BL31_AndHeader.xml
- Add OpTee: tee.bin + OpTeeAndHeader.xml.
- BL31 and OpTee are loaded but not executed. 
  Require separate arbel_tip_fw.bin to activate them.
- Change the startTag for bootblock and uboot, so they both startin new line.  
- ReplaceComponent.bat : add BL31 and OpTee replace options.
- BL31 is copied to 0xFFFD0000

IGPS 03.03.02               - Nov 23th 2021    
==============
- Bootblock version 0.1.5.
- Add new header fields for bootblock MC (DQS in\out, trim delays).
- Add new field to MC_CONFIG 
			Bit 2: Select DRAM type. 
				0: 1600 DRAM type clk.
				1: 2133 DRAM type clk.
  Note: Only 2133 mode is stable.
  

IGPS 03.03.01              - Nov 14th 2021
==============
- TIP_FW 0.1.4:
   * Print uptime and KMT keys
   * SPI-X handling.
- Add replace single component option.

IGPS 03.02.08              - Sep 13th 2021
==============
- BootBlock 0.1.2: Increase DDR frequency.
- Change default MC frequency to 1066.
- Move Linux image to offset 0x01010000 in flash.
- uboot version 2019.01.09.26 : bug fix saveenv.


IGPS 03.02.02              - Jul 8st 2021
==============
- BootBlock 0.0.7. Bug fix ECC. 
- Add serial number to OTP.
- Bug fix: GeneraKey for HSM file copy.
- TIP FW 0.0.7.

IGPS 03.02.00              - Jul 1st 2021
==============
- BootBlock 0.0.6  (with ECC support)
- UBoot     2019.01.09.22
- Updated TFT and Bootblock fields
- Added SPI-X settings the OTP fuse array.
- Split kmt xml, tft xml and fuse xml for Z11 and A1.
- Add Linux image option. 

IGPS 03.01.07 
==============
- Uboot: version 2019.01.09.18.
- Bootblock 0.0.5.
- TIP FW 0.0.3.
- CP FW available ("hello world" version).
- Update Bootblock header XMLs (board type).
- Update scripts to get COM port number from command line (optional)



-----------------------------------------------------------
For contact information see "Contact Us" at www.nuvoton.com
-----------------------------------------------------------
